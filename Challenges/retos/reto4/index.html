<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../style.css" />
    <!-- Script de logica -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const constText = document.querySelector(".code-box");
        constText.innerHTML = constText.innerHTML.replace(
          /const/g,
          "<span class='text-red'>const</span>"
        );
      });
    </script>
    <script src="../../lib/helpers/retos/retos.js"></script>

    <title>Reto 1</title>
  </head>
  <body>
    <div id="main-header"></div>
    <main>
      <section class="container description-challenge">
        <p>
          En el taller de Santa, los elfos tienen una
          <span class="text-yellow">lista de regalos</span> que desean fabricar
          y un conjunto limitado de materiales.
        </p>
        <p>
          Los regalos son cadenas de texto y los materiales son caracteres. Tu
          tarea es escribir una función que, dada una lista de regalos y los
          materiales disponibles, devuelva una
          <span class="text-yellow"
            >lista de los regalos que se pueden fabricar.</span
          >
        </p>

        <p>
          Un regalo se puede fabricar si contamos con todos los materiales
          necesarios para fabricarlo. ¡Encuentra el primer número de
          identificación que se ha repetido,
        </p>

        <p>
          En otras palabras, si hay más de un número repetido, debes devolver el
          número cuya segunda ocurrencia aparezca primero en la lista. Si no hay
          números repetidos, devuelve -1.
        </p>
      </section>
      <article class="code-box container">
        <pre>
          const gifts = ['tren', 'oso', 'pelota']
          const materials = 'tronesa'
          
          manufacture(gifts, materials) // ["tren", "oso"]
          // 'tren' SÍ porque sus letras están en 'tronesa'
          // 'oso' SÍ porque sus letras están en 'tronesa'
          // 'pelota' NO porque sus letras NO están en 'tronesa'
          
          const gifts = ['juego', 'puzzle']
          const materials = 'jlepuz'
          
          manufacture(gifts, materials) // ["puzzle"]
          
          const gifts = ['libro', 'ps5']
          const materials = 'psli'
          
          manufacture(gifts, materials) // []
          </pre
        >
      </article>
      <section class="container">
        <form action="POST">
          <label for="solution">
            Wrtite your solution here and submit to see your answer
          </label>
          <textarea
            name="solution"
            id="solution"
            cols="100"
            rows="30"
          ></textarea>
          <button type="submit">Respuesta</button>
        </form>
        <div id="answer"></div>
      </section>
      <div class="container">
        <aside
          style="
            border: solid 1px gray;
            width: max-content;
            padding: 0.5rem;
            margin: 2rem 0 0.5rem 0;
          "
        >
          <p>Curiosidad de como 'insertar' codigo HTML en HTML</p>
        </aside>
        <code>&lt;a href="/"&gt;Soy una etiqueta "a" de HTML &lt;/a&gt;</code>
      </div>
    </main>
    <div id="main-footer"></div>
    <!-- Script de 'componentes' -->
    <script src="../../layout/layout.js"></script>
    <script src="../../public/icons.js"></script>
    <!-- Soluciones -->
    <script>
      function decode(message) {
        console.log(message, "EXIT ->");
        return "";
      }
      decode("(olleh) (dlrow)!");
      decode("sa(u(cla)atn)s");
      decode("hola (odnum)");
      decode("((nta)(sa))");
    </script>
  </body>
</html>
<!-- 
 <script>
      function decode(message) {
        function getArrayFragment(array, firstIndex, lastIndex) {
          return array.slice(firstIndex, lastIndex);
        }

        function reverseArray(array) {
          return array.split("").reverse().join("");
        }
        function replaceArrayFragment(
          array,
          indexStart,
          howManyElemnts,
          substitue
        ) {
          const newModifiedArray = [...array];
          newModifiedArray.splice(indexStart, howManyElemnts, substitue);
          return newModifiedArray;
        }
        function joinArray(array) {
          return array.join("");
        }

        let corretMessage;
        const destructurMessage = message.split("");

        const haveParentheses =
          destructurMessage.includes("(") && destructurMessage.includes(")");

        const openLastParentheses = destructurMessage.lastIndexOf("(");
        const closeFirstParentheses = destructurMessage.indexOf(")");

        const nestedParentheses = closeFirstParentheses < openLastParentheses;
        console.log("dos parenteris", !nestedParentheses);

        if (nestedParentheses) {
          console.log(destructurMessage);
          const openFirstParentheses = destructurMessage.indexOf("(");

          const getParenthesesStrechWith = getArrayFragment(
            message,
            openFirstParentheses,
            closeFirstParentheses + 1
          );
          const getParenthesesStrechWithOut = getArrayFragment(
            message,
            openFirstParentheses + 1,
            closeFirstParentheses
          );

          const reverseGetParenthesesStrechWithOut = reverseArray(
            getParenthesesStrechWithOut
          );

          const arrayWithReplaceFragment = replaceArrayFragment(
            destructurMessage,
            openFirstParentheses,
            getParenthesesStrechWith.length,
            reverseGetParenthesesStrechWithOut
          );
          corretMessage = joinArray(arrayWithReplaceFragment);

          return corretMessage;
        }
        if (haveParentheses) {
          const getParenthesesStrechWith = getArrayFragment(
            message,
            openLastParentheses,
            closeFirstParentheses + 1
          );

          const getParenthesesStrechWithOut = getArrayFragment(
            message,
            openLastParentheses + 1,
            closeFirstParentheses
          );

          const reverseGetParenthesesStrechWithOut = reverseArray(
            getParenthesesStrechWithOut
          );

          const arrayWithReplaceFragment = replaceArrayFragment(
            destructurMessage,
            openLastParentheses,
            getParenthesesStrechWith.length,
            reverseGetParenthesesStrechWithOut
          );

          corretMessage = joinArray(arrayWithReplaceFragment);

          decode(corretMessage);
        } else {
          corretMessage;
        }
        return corretMessage;
      }

      decode("(olleh) (dlrow)!");
      //decode("sa(u(cla)atn)s");
    </script>

 -->

<!-- 
<script>
      function decode(message) {
        function getArrayFragment(array, firstIndex, lastIndex) {
          return array.slice(firstIndex, lastIndex);
        }
        function reverseArray(array) {
          return array.split("").reverse().join("");
        }
        function replaceArrayFragment(
          array,
          indexStart,
          howManyElemnts,
          substitue
        ) {
          const newModifiedArray = [...array];
          newModifiedArray.splice(indexStart, howManyElemnts, substitue);
          return newModifiedArray;
        }
        function joinArray(array) {
          return array.join("");
        }

        let corretMessage;
        let getParenthesesStrechWith;
        let reverseGetParenthesesStrechWithOut;
        let getParenthesesStrechWithOut;
        let arrayWithReplaceFragment;

        const destructurMessage = message.split("");

        const haveParentheses = message.includes("(") && message.includes(")");

        if (haveParentheses) {
          const openLastParentheses = destructurMessage.lastIndexOf("(");
          const closeFirstParentheses = destructurMessage.indexOf(")");

          const nestedParentheses = closeFirstParentheses < openLastParentheses;
          if (nestedParentheses) {
            const openFirstParentheses = destructurMessage.indexOf("(");

            getParenthesesStrechWith = getArrayFragment(
              message,
              openFirstParentheses,
              closeFirstParentheses + 1
            );
            getParenthesesStrechWithOut = getArrayFragment(
              message,
              openFirstParentheses + 1,
              closeFirstParentheses
            );

            //console.log("getParenthesesStrechWith", getParenthesesStrechWith);
            //console.log("getParenthesesStrechWithOut",getParenthesesStrechWithOut);

            reverseGetParenthesesStrechWithOut = reverseArray(
              getParenthesesStrechWithOut
            );

            arrayWithReplaceFragment = replaceArrayFragment(
              destructurMessage,
              openFirstParentheses,
              getParenthesesStrechWith.length,
              reverseGetParenthesesStrechWithOut
            );

            corretMessage = joinArray(arrayWithReplaceFragment);
          } else {
            getParenthesesStrechWith = getArrayFragment(
              message,
              openLastParentheses,
              closeFirstParentheses + 1
            );

            getParenthesesStrechWithOut = getArrayFragment(
              message,
              openLastParentheses + 1,
              closeFirstParentheses
            );

            console.log("getParenthesesStrechWith", getParenthesesStrechWith);
            console.log(
              "getParenthesesStrechWithOut",
              getParenthesesStrechWithOut
            );
            reverseGetParenthesesStrechWithOut = reverseArray(
              getParenthesesStrechWithOut
            );

            arrayWithReplaceFragment = replaceArrayFragment(
              destructurMessage,
              openLastParentheses,
              getParenthesesStrechWith.length,
              reverseGetParenthesesStrechWithOut
            );

            corretMessage = joinArray(arrayWithReplaceFragment);
          }

          return decode(corretMessage);
        } else {
          corretMessage = message;
        }

        console.log("END ->", corretMessage);
        return corretMessage;
      }
      //decode("(olleh) (dlrow)!");
      //decode("sa(u(cla)atn)s");
      //decode("hola (odnum)");
      decode("((nta)(sa))");
    </script>

  -->
