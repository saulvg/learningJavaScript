<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../style.css" />
    <!-- Script de logica -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const constText = document.querySelector(".code-box");
        constText.innerHTML = constText.innerHTML.replace(
          /const/g,
          "<span class='text-red'>const</span>"
        );
      });
    </script>
    <script src="../../lib/helpers/retos/retos.js"></script>

    <title>Reto 1</title>
  </head>
  <body>
    <div id="main-header"></div>
    <main>
      <section class="container description-challenge">
        <p>
          En el taller de Santa, los elfos tienen una
          <span class="text-yellow">lista de regalos</span> que desean fabricar
          y un conjunto limitado de materiales.
        </p>
        <p>
          Los regalos son cadenas de texto y los materiales son caracteres. Tu
          tarea es escribir una función que, dada una lista de regalos y los
          materiales disponibles, devuelva una
          <span class="text-yellow"
            >lista de los regalos que se pueden fabricar.</span
          >
        </p>

        <p>
          Un regalo se puede fabricar si contamos con todos los materiales
          necesarios para fabricarlo. ¡Encuentra el primer número de
          identificación que se ha repetido,
        </p>

        <p>
          En otras palabras, si hay más de un número repetido, debes devolver el
          número cuya segunda ocurrencia aparezca primero en la lista. Si no hay
          números repetidos, devuelve -1.
        </p>
      </section>
      <article class="code-box container">
        <pre>
          const gifts = ['tren', 'oso', 'pelota']
          const materials = 'tronesa'
          
          manufacture(gifts, materials) // ["tren", "oso"]
          // 'tren' SÍ porque sus letras están en 'tronesa'
          // 'oso' SÍ porque sus letras están en 'tronesa'
          // 'pelota' NO porque sus letras NO están en 'tronesa'
          
          const gifts = ['juego', 'puzzle']
          const materials = 'jlepuz'
          
          manufacture(gifts, materials) // ["puzzle"]
          
          const gifts = ['libro', 'ps5']
          const materials = 'psli'
          
          manufacture(gifts, materials) // []
          </pre
        >
      </article>
      <section class="container">
        <form action="POST">
          <label for="solution">
            Wrtite your solution here and submit to see your answer
          </label>
          <textarea
            name="solution"
            id="solution"
            cols="100"
            rows="30"
          ></textarea>
          <button type="submit">Respuesta</button>
        </form>
        <div id="answer"></div>
      </section>
      <div class="container">
        <aside
          style="
            border: solid 1px gray;
            width: max-content;
            padding: 0.5rem;
            margin: 2rem 0 0.5rem 0;
          "
        >
          <p>Curiosidad de como 'insertar' codigo HTML en HTML</p>
        </aside>
        <code>&lt;a href="/"&gt;Soy una etiqueta "a" de HTML &lt;/a&gt;</code>
      </div>
    </main>
    <div id="main-footer"></div>
    <!-- Script de 'componentes' -->
    <script src="../../layout/layout.js"></script>
    <script src="../../public/icons.js"></script>
    <!-- Solucion 1-->
    <!-- <script>
      function decode(message) {
        const match = message.match(/\(([^()]+)\)/);
        if (!!match) {
          const arrayOriginal = message.split("");
          const matchArray = match[0].split("");
          matchArray.pop();
          matchArray.shift();
          matchArray.reverse();

          arrayOriginal.splice(
            match.index,
            matchArray.length + 2,
            ...matchArray
          );

          return decode(arrayOriginal.join(""));
        }

        console.log(message)
        return message;
      }
      decode("(olleh) (dlrow)!");
      decode("sa(u(cla)atn)s");
      decode("hola (odnum)");
      decode("((nta)(sa))");
      decode("no tengo parentesis");
    </script> -->

    <!-- Solucion 2 -->
    <script>
      function decode(message) {
        const match = message.match(/\(([^()]+)\)/);
        if (!match) return message;
        const sanitized = match[0].slice(1, -1).split("").reverse().join("");
        const result = message.replace(match[0], sanitized);

        console.log(result);
        return decode(result);
      }
      decode("(olleh) (dlrow)!");
      decode("sa(u(cla)atn)s");
      decode("hola (odnum)");
      decode("((nta)(sa))");
      decode("no tengo parentesis");
    </script>
  </body>
</html>
