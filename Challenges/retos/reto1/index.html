<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../../style.css" />
    <!-- Script de logica -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const constText = document.querySelector(".code-box");
        constText.innerHTML = constText.innerHTML.replace(
          /const/g,
          "<span class='text-red'>const</span>"
        );
      });
    </script>
    <script src="../../lib/helpers/retos/retos.js"></script>

    <title>Reto 1</title>
  </head>
  <body>
    <div id="main-header"></div>
    <main>
      <section class="container description-challenge">
        <p>
          En la fábrica de juguetes del Polo Norte, cada juguete tiene un número
          de identificación único.
        </p>
        <p>
          Sin embargo, debido a un error en la máquina de juguetes, algunos
          números se han asignado a más de un juguete.
        </p>

        <p>
          ¡Encuentra el primer número de identificación que se ha repetido,
          <span class="text-yellow"
            >donde la segunda ocurrencia tenga el índice más pequeño!</span
          >
        </p>

        <p>
          En otras palabras, si hay más de un número repetido, debes devolver el
          número cuya segunda ocurrencia aparezca primero en la lista. Si no hay
          números repetidos, devuelve -1.
        </p>
      </section>
      <article class="code-box container">
        <pre>
            const giftIds = [2, 1, 3, 5, 3, 2] 
            const firstRepeatedId = findFirstRepeated(giftIds) 
            console.log(firstRepeatedId) // 3 
            // Aunque el 2 y el 3 se repiten 
            // el 3 aparece primero por segunda vez 
            const giftIds2 = [1, 2, 3, 4] 
            const firstRepeatedId2 = findFirstRepeated(giftIds2) 
            console.log(firstRepeatedId2) 
            // -1 // Es -1 ya que no se repite ningún número 
            const giftIds3 = [5, 1, 5, 1] 
            const firstRepeatedId3 = findFirstRepeated(giftIds3)
            console.log(firstRepeatedId3) // 5
          </pre
        >
      </article>
      <section class="container">
        <h3>Solucion 1</h3>
        <p class="comment">
          En esta solucion iteramos el array de regalos, si en el objeto
          previamente creado no encontramos una key con el valor del regalo
          actual, lo añadimos al objeto, de lo contrario, devolvemos el valor de
          gift que ya tiene coincidencia con la key del objeto.
        </p>
        <p class="comment">
          Si no existiese coincidencia, no entraria en la condicion del if y
          devolveriamos -1
        </p>
        <pre>

          function findFirstRepeated(gifts) {
            const listaRegalos = {};
            for (const gift of gifts) {
              if (listaRegalos[gift]) return gift;
              listaRegalos[gift] = true;
            }
            return -1;

          }

        </pre>
        <h3>Solucion 2</h3>
        <p class="comment">
          En esta solucion iteramos el array de regalos, si en el objeto SET
          (solo puede existir una key con el mismo valor) previamente creado no
          encontramos el valor del regalo actual, lo añadimos al objeto, de lo
          contrario, devolvemos el valor de gift que ya tiene coincidencia en el
          objeto.
        </p>
        <p class="comment">
          Si no existiese coincidencia, no entraria en la condicion del if y
          devolveriamos -1
        </p>
        <pre>
          
          function findFirstRepeated(gifts) {  

            const listaRegalos2 = new Set();
            for (const gift of gifts) {
              if (listaRegalos2.has(gift)) return gift;

              listaRegalos2.add(gift);
            }
            return -1; 

          }

        </pre>
        <h3>Solucion 3</h3>
        <p class="comment">
          En esta solucion iteramos el array de regalos, si en el array
          previamente creado no encontramos el valor del regalo actual, lo
          añadimos al array, de lo contrario, devolvemos el valor de gift que ya
          tiene coincidencia en el array.
        </p>
        <p class="comment">
          Si no existiese coincidencia, no entraria en la condicion del if y
          devolveriamos -1
        </p>
        <pre>
          
          function findFirstRepeated(gifts) {
            
            const listaRegalos3 = [];
            for (gift of gifts) {
              if (listaRegalos3.includes(gift)) return gift;
              listaRegalos3.push(gift);
            }
            retrun - 1;

          }

        </pre>
        <h3>Llamadas</h3>
        <pre>
          const giftIds = [2, 1, 3, 5, 3, 2];
          const giftIds2 = [1, 2, 3, 4];
          const giftIds3 = [5, 1, 5, 1];
          findFirstRepeated(giftIds);
          findFirstRepeated(giftIds2);
          findFirstRepeated(giftIds3);
        </pre>
      </section>
      <section class="container">
        <form action="POST">
          <label for="solution">
            Wrtite your solution here and submit to see your answer
          </label>
          <textarea
            name="solution"
            id="solution"
            cols="100"
            rows="30"
          ></textarea>
          <button type="submit">Respuesta</button>
        </form>
        <div id="answer"></div>
      </section>
      <div class="container">
        <aside
          style="
            border: solid 1px gray;
            width: max-content;
            padding: 0.5rem;
            margin: 2rem 0 0.5rem 0;
          "
        >
          <p>Curiosidad de como 'insertar' codigo HTML en HTML</p>
        </aside>
        <code>&lt;a href="/"&gt;Soy una etiqueta "a" de HTML &lt;/a&gt;</code>
      </div>
    </main>
    <div id="main-footer"></div>
    <!-- Script de 'componentes' -->
    <script src="../../layout/layout.js"></script>
    <script src="../../public/icons.js"></script>
    <!-- Soluciones -->
    <script>
      const giftIds = [2, 1, 3, 5, 3, 2];
      const giftIds2 = [1, 2, 3, 4];
      const giftIds3 = [5, 1, 5, 1];
      function findFirstRepeated(gifts) {
        /* Solucion 1 */
        const listaRegalos = {};
        for (const gift of gifts) {
          if (listaRegalos[gift]) return gift;
          listaRegalos[gift] = true;
        }

        return -1;
        /* Solucion 2 */
        const listaRegalos2 = new Set();
        for (const gift of gifts) {
          if (listaRegalos2.has(gift)) return gift;

          listaRegalos2.add(gift);
        }
        return -1;
        /* Solucion 3 */
        const listaRegalos3 = [];
        for (gift of gifts) {
          if (listaRegalos3.includes(gift)) return gift;
          listaRegalos3.push(gift);
        }
        retrun - 1;
        /* ..... */
      }
      findFirstRepeated(giftIds);
    </script>
  </body>
</html>
